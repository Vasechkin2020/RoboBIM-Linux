; Рисование квадрата 1x1м с учетом смещения маркера 0.045м
; INITIAL STATE: Center (ЦВ) X=0.000, Y=0.000, A=0.000°.

; --- СТОРОНА 1: Рисуем 1.0м (ЦВ от 0.0 до 1.0) ---
M3 T1000 ; Опустить маркер
G2 X1.0 Y0.0 F0.10 ; ЦВ едет до (1.0, 0.0). Длина = 1.0 м.

; --- УГОЛ 1 (M(1.045, 0.0) -> A=90) ---
M5 T1000 ; Поднять маркер
G2 L0.045 F0.10  ; ЦВ в (1.045, 0.0)
G4 P500
G1 A90 F0.10
G4 P500
G2 L0.045 F-0.10 ; ЦВ в (1.045, -0.045). Это новая точка старта.

; --- СТОРОНА 2: Рисуем 1.0м (ЦВ от -0.045 до 0.955) ---
M3 T1000 ; Опустить маркер
; ЦВ стартует в (1.045, -0.045). Целевая Y: -0.045 + 1.0 = 0.955
G2 X1.045 Y0.955 F0.10 ; Длина = 1.0 м.

; --- УГОЛ 2 (M(1.045, 1.0) -> A=180) ---
M5 T1000 ; Поднять маркер
G2 L0.045 F0.10  ; ЦВ в (1.045, 1.0)
G4 P500
G1 A180 F0.10
G4 P500
G2 L0.045 F-0.10 ; ЦВ в (1.09, 1.0). Это новая точка старта.

; --- СТОРОНА 3: Рисуем 1.0м (ЦВ от 1.09 до 0.09) ---
M3 T1000 ; Опустить маркер
; ЦВ стартует в (1.09, 1.0). Целевая X: 1.09 - 1.0 = 0.09
G2 X0.09 Y1.0 F0.10 ; Длина = 1.0 м.

; --- УГОЛ 3 (M(0.045, 1.0) -> A=-90) ---
M5 T1000 ; Поднять маркер
G2 L0.045 F0.10  ; ЦВ в (0.045, 1.0)
G4 P500
G1 A-90 F0.10
G4 P500
G2 L0.045 F-0.10 ; ЦВ в (0.045, 1.045). Это новая точка старта.

; --- СТОРОНА 4: Рисуем 1.0м (ЦВ от 1.045 до 0.045) ---
M3 T1000 ; Опустить маркер
; ЦВ стартует в (0.045, 1.045). Целевая Y: 1.045 - 1.0 = 0.045
G2 X0.045 Y0.045 F0.10 ; Длина = 1.0 м.

; --- ФИНАЛ: Возврат ЦВ в (0.0, 0.0) и разворот в 0 град ---
M5 T1000 ; Поднять маркер
G2 L0.045 F0.10 ; ЦВ в (0.045, 0.045)
G4 P500
G1 A0 F0.10     ; Повернулись в 0 градусов
G4 P500
G2 L0.045 F-0.10 ; ЦВ в (0.0, 0.0)